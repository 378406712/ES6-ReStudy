# Iterator 遍历器

- 它是一种接口，为各种不同的数据结构提供统一的访问机制。
- 任何数据结构只要部署 Iterator 接口，就可以完成遍历操作（即依次处理该数据结构的所有成员）
- 作用：一是为各种数据结构，提供一个统一的、简便的访问接口；二是使得数据结构的成员能够按某种次序排列；三是 ES6 创造了一种新的遍历命令 for...of 循环，Iterator 接口主要供 for...of 消费。

- 遍历的过程：

  - 创建一个指针对象，指向当前数据结构的起始位置。**遍历器的本质就是一个指针对象**
  - 第一次调用指针对象的 next 方法,可以将指针指向数据的第一个成员
  - 第 n 次...,不断调用指针对象的 next 方法,知道它指向数据结构的结束位置

- 每一次调用 next 方法，都会返回数据结构的当前成员的信息。（一个包含 value 和 done 两个属性的对象，其中 value 是值，done 属性为一个布尔值，表示遍历是否结束)
- 一种数据结构只要部署了 Iterator 接口，我们就称这种数据结构是“可遍历的”（iterable）。
- ES6 规定，默认的 Iterator 接口部署在数据结构的 Symbol.iterator 属性，或者说，一个数据结构只要具有 Symbol.iterator 属性，就可以认为是“可遍历的”
- 原生具备 Iterator 接口的数据结构有：
  - Array,Map,Set,String,TypedArray,函数的 arguments 对象，NodeList 对象
- 对象（Object）之所以没有默认部署 Iterator 接口，是因为对象的哪个属性先遍历，哪个属性后遍历是不确定的，需要开发者手动指定。
- 调用遍历器的场合:
  - 解构赋值：对数组和 Set 结构进行解构赋值时，会默认调用 Symbol.iterator 方法。
  - 扩展运算符
  - yield*:yield*后面跟的是一个可遍历的结构，它会调用该结构的遍历器接口。
    - 由于数组的遍历会调用遍历器接口，所以任何接受数组作为参数的场合，其实都调用了遍历器接口。 - for...of
      Array.from()
      Map(), Set(), WeakMap(), WeakSet()（比如 new Map([['a',1],['b',2]])）
      Promise.all()
      Promise.race()
- 遍历器对象的 return(),throw()

